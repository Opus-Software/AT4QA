{% block module_content scoped %}
{% for test in tests %}

  <details class="test {{ test.status.category }}">
    <summary>
      <h3 class="title test-title">
        {% block test_title scoped %}
        
        <div class="testIcon">
          {% if test.status.word == 'PASSED' %}
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#008000"><path d="m424-296 282-282-56-56-226 226-114-114-56 56 170 170Zm56 216q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"/>
            </svg>
          {% elif test.status.word == 'RERUN' %}
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fbc02d"><path d="M480-80q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440h80q0 117 81.5 198.5T480-160q117 0 198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l62 62-56 58-160-160 160-160 56 58-62 62h6q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-440q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-80Z"/></svg>
          {% elif test.status.word == 'FAILED' %}
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ff0000"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"/></svg>
          {% endif %}
        </div>

        
        <span class="test-name">
          {% if test.item.callspec.params._pytest_bdd_example.test_ID %}
            <span class="funcname">TEST ID: {{ test.item.callspec.params._pytest_bdd_example.test_ID }}</span>
            <br>
          {% endif %}
          {% block test_name scoped %}
          {% set name = test.item.nodeid.split('::')[1:]|join('::') %}
          {% set funcname, _, params = name.partition('[') %}
            <span class="funcname">{{ funcname|replace('_', ' ')|capitalize }}</span>
          {% endblock %}
        </span>
        <span class="duration">{{ test.phases|sum('report.duration')|timedelta }}</span>
        {% endblock %}

      </h3>
    </summary>

    <div class="content">
      {% include "html1/test.html" %}
    </div>
  </details>
{% endfor %}
{% endblock %}
